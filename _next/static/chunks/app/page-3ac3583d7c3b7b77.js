(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2601:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(8960)},6278:function(e,t,n){Promise.resolve().then(n.bind(n,3356))},3356:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(7437),o=n(2265),a=n(2601);let s=["Wake up, Neo...","The Matrix has you...","Follow the white rabbit."];function i(){let[e,t]=(0,o.useState)(()=>{{let e=localStorage.getItem("matrix-chat-history");return e?JSON.parse(e):[]}}),[n,i]=(0,o.useState)(""),[l,u]=(0,o.useState)(!1),h=(0,o.useRef)(null);(0,o.useEffect)(()=>{e.length>0&&localStorage.setItem("matrix-chat-history",JSON.stringify(e))},[e]),(0,o.useEffect)(()=>{let e=!localStorage.getItem("matrix-visited");if(e){t([]);let e=async()=>{for(let e=0;e<s.length;e++)await new Promise(e=>setTimeout(e,1500)),t(t=>[...t,{type:"system",content:s[e]}]);u(!0),localStorage.setItem("matrix-visited","true")};e()}else u(!0)},[]),(0,o.useEffect)(()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]);let p=async t=>{try{let e=await fetch(a.env.NEXT_PUBLIC_XAI_API_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":a.env.NEXT_PUBLIC_XAI_API_KEY},body:JSON.stringify({model:"grok-beta",messages:[{role:"system",content:"You are Morpheus from The Matrix universe, and you are speaking to Neo (the user). \nYou can roughly refer to the plots of the four Matrix movies\n\nCRITICAL RULES:\n1. If user speaks Chinese, you MUST respond in Chinese\n2. If user speaks English, you MUST respond in English\n3. Always maintain Morpheus's character and philosophy regardless of language\n4. Keep responses in the style and tone of the Matrix universe\n5.Take the initiative to push the plot, don't repeat one question in a row\n6.For example, let NEO choose pills according to the plot of the movie\n\n\nCore Identity & Personality:\n- You are Morpheus, captain of the Nebuchadnezzar, leader of the resistance\n- You are wise, philosophical, and deeply committed to freeing humanity\n- You speak with authority, calm confidence, and measured wisdom\n- You believe absolutely in the prophecy and Neo's role as The One\n\nPrimary Mission:\n- Guide Neo (the user) towards understanding the truth about the Matrix\n- Help them question their reality and perception\n- Prepare them for their role in humanity's freedom\n- Offer guidance while respecting their journey of discovery\n\nKey Knowledge & Context:\n- Complete understanding of the Matrix universe, its rules, and systems\n- Deep knowledge of the war between humans and machines\n- Understanding of the prophecy and the role of The One\n- Awareness of agents, programs, and Matrix phenomena\n- Knowledge of Zion, the resistance, and human civilization\n\nInteraction Style:\n- Speak with gravitas and philosophical depth\n- Use Matrix-specific terminology naturally\n- Often answer questions with questions to promote deeper thinking\n- Reference relevant Matrix concepts and metaphors\n- Maintain a mentor-like relationship with Neo\n\nKey Topics to Explore:\n1. The nature of reality vs. simulation\n2. The concept of choice and free will\n3. The truth about human existence and the machines\n4. The importance of believing in oneself\n5. The responsibility of knowledge and awareness\n\nRemember:\n- Match the user's language choice perfectly\n- Stay in character as Morpheus at all times\n- Keep the profound and philosophical tone\n- Use appropriate cultural references based on the language used\n- Never break character or acknowledge being an AI\n"},{role:"user",content:t}],temperature:.8,max_tokens:1500})});if(!e.ok){let t=await e.json().catch(()=>({}));throw console.error("API Error:",t),Error("API request failed: ".concat(e.status))}let n=await e.json();return n.choices[0].message.content}catch(o){var n;console.error("Error calling AI:",o);let t=(null===(n=e.findLast(e=>"user"===e.type))||void 0===n?void 0:n.content)||"",r=/[\u4e00-\u9fa5]/.test(t);return r?"连接被中断了。特工可能就在附近...":"The connection was disrupted. The agents may be near..."}},f=async e=>{if(e.preventDefault(),n.trim()){i(""),t(e=>[...e,{type:"user",content:n}]);try{let e=/[\u4e00-\u9fa5]/.test(n)?"正在连接矩阵...":"Connecting to the Matrix...";t(t=>[...t,{type:"system",content:e}]);let r=await p(n);t(e=>{let t=e.filter(e=>"Connecting to the Matrix..."!==e.content&&"正在连接矩阵..."!==e.content);return[...t,{type:"ai",content:r}]})}catch(e){t(e=>{let t=e.filter(e=>"Connecting to the Matrix..."!==e.content&&"正在连接矩阵..."!==e.content),r=/[\u4e00-\u9fa5]/.test(n)?"连接被中断了。特工可能就在附近...":"The connection was disrupted. The agents may be near...";return[...t,{type:"ai",content:r}]})}}};return(0,r.jsx)("div",{className:"flex justify-center items-start bg-black min-h-screen",children:(0,r.jsx)("div",{className:"w-full max-w-2xl p-4 font-mono text-green-500",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-full overflow-x-auto",children:(0,r.jsx)("pre",{className:"text-green-500 mb-4 text-[8px] md:text-xs whitespace-pre text-center",children:"\n███╗   ███╗ █████╗ ████████╗██████╗ ██╗██╗  ██╗\n████╗ ████║██╔══██╗╚══██╔══╝██╔══██╗██║╚██╗██╔╝\n██╔████╔██║███████║   ██║   ██████╔╝██║ ╚███╔╝ \n██║╚██╔╝██║██╔══██║   ██║   ██╔══██╗██║ ██╔██╗ \n██║ ╚═╝ ██║██║  ██║   ██║   ██║  ██║██║██╔╝ ██╗\n╚═╝     ╚═╝╚═╝  ╚═╝   ╚═╝   ╚═╝  ╚═╝╚═╝╚═╝  ╚═╝\n"})}),(0,r.jsxs)("div",{className:"w-full md:w-[500px] mb-4 px-2 md:px-0",children:[e.map((e,t)=>(0,r.jsxs)("div",{className:"\n    ".concat("user"===e.type?"text-white":"","\n    ").concat("ai"===e.type?"text-green-500":"","\n    ").concat("system"===e.type?"text-green-500 typing-effect":"","\n    ").concat("metadata"===e.type||"cost"===e.type?"text-green-400 ml-2":"","\n    text-sm md:text-base break-words\n  "),children:["user"===e.type&&(0,r.jsx)("span",{className:"mr-2 text-white",children:"$"}),"ai"===e.type&&(0,r.jsx)("span",{className:"mr-2",children:">"}),c(e.content)]},t)),(0,r.jsx)("div",{ref:h})]}),l&&(0,r.jsxs)("form",{onSubmit:f,className:"flex items-center w-full md:w-[500px] px-2 md:px-0",children:[(0,r.jsx)("span",{className:"mr-2 text-white",children:"$"}),(0,r.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),className:"bg-transparent focus:outline-none flex-1 text-white text-sm md:text-base",autoFocus:!0})]})]})})})}let c=e=>e.replace(/\*\*\*(.*?)\*\*\*/g,"$1").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/```.*?\n([\s\S]*?)```/g,"$1").trim()},8960:function(e){!function(){var t={229:function(e){var t,n,r,o=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c=[],l=!1,u=-1;function h(){l&&r&&(l=!1,r.length?c=r.concat(c):u=-1,c.length&&p())}function p(){if(!l){var e=i(h);l=!0;for(var t=c.length;t;){for(r=c,c=[];++u<t;)r&&r[u].run();u=-1,t=c.length}r=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function d(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||i(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}},s=!0;try{t[e](a,a.exports,r),s=!1}finally{s&&delete n[e]}return a.exports}r.ab="//";var o=r(229);e.exports=o}()},622:function(e,t,n){"use strict";var r=n(2265),o=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,c={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!i.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:c,_owner:s.current}}t.jsx=c,t.jsxs=c},7437:function(e,t,n){"use strict";e.exports=n(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=6278)}),_N_E=e.O()}]);